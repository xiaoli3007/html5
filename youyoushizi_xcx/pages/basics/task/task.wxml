<cu-custom bgColor="bg-gradual-blue" isBack="{{true}}">
  <view slot="backText" bindchange="backquiet">返回</view>
  <view slot="content">{{toptitle}}</view>
</cu-custom>

<view class="cu-bar bg-white solid-bottom margin-bottom">
  <view class="action  justify-center align-center">
    <text class="cuIcon-title text-gray">{{taskdata.name}}</text>
  </view>
  <view class="action">
    <!-- <button class="cu-btn bg-green shadow" >新增</button> -->
  </view>
</view>

<wux-row>
  <wux-col span="10" offset="1">

    <view class="flex">
      <view class="cu-progress round striped">
        <view class="bg-green" style="width:{{taskloading}};"></view>
      </view>
      <text class="margin-left">{{current+1}}/{{taskdata.word1.length}}</text>
    </view>
  </wux-col>

</wux-row>
<wux-white-space size="default" />

<wux-row>
  <wux-col span="1">
    <wux-tabs controlled current="{{ tabkey }}" direction="vertical" bindchange="onTabsChange">
      <block wx:for="{{ tabs }}" wx:key="key">
        <wux-tab key="{{ item.key }}" title="{{ item.title }}"></wux-tab>
      </block>
    </wux-tabs>
  </wux-col>
  <wux-col span="8" offset="1">
    <view class="bg-green padding radius align-center shadow-blur swiper_view">
      <swiper bindchange="change" indicator-dots="{{indicatorDots}}" autoplay="{{autoplay}}" interval="{{interval}}" duration="{{duration}}" current="{{current}}" wx:if="{{!loadModal}}">
        <block wx:for="{{taskdata.word1}}" wx:key>
          <swiper-item>

            <swiper vertical="{{true}}" current="{{subcurrent}}" bindchange="onSubSwiperChange">
              <swiper-item>
                <view class="flex justify-center align-center  text-center sw_view">

                  <view wx:if="{{tingxie_text_hide}}">
                    <text class="task_sw cuIcon-emoji" style=""></text> </view>


                  <view wx:if="{{!tingxie_text_hide}}">
                    <text class="text-center {{item.wcell_type=='25'?'task_dw':'task_sw'}}">{{item.sw}}</text> </view>
                </view>
              </swiper-item>
              <swiper-item>
                <view class="flex justify-center align-center dw_view">

                  <view wx:if="{{tingxie_text_hide}}">
                    <text class="task_sw cuIcon-emoji" style=""></text> </view>
                  <view wx:if="{{!tingxie_text_hide}}" style="width:100%;" class='text-center'>

                    <block wx:for="{{item.dw_xcx}}" wx:key="*this" wx:for-item="itemsub">
                      <text class='task_dw text-red' wx:if="{{itemsub == item.sw}}">{{itemsub}}</text>
                      <text class='task_dw ' wx:else>{{itemsub}}</text>
                    </block>

                  </view>
                </view>
              </swiper-item>
              <swiper-item>
                <view class="flex justify-center align-center lw_view">
                  <view wx:if="{{tingxie_text_hide}}">
                    <text class="task_sw cuIcon-emoji" style=""></text> </view>
                  <view wx:if="{{!tingxie_text_hide}}" style="width:100%;">

                    <block wx:for="{{item.lw_xcx}}" wx:key="*this" wx:for-item="itemsub">
                      <text class='task_lw text-left text-red' wx:if="{{itemsub == item.sw}}">{{itemsub}}</text>
                      <text class='task_lw text-left' wx:else>{{itemsub}}</text>
                    </block>


                  </view>
                </view>
              </swiper-item>
            </swiper>


          </swiper-item>
        </block>
      </swiper>

    </view>

  </wux-col>

  <wux-col span="2">
    <view class="text-center">
      <button class="cu-btn icon bg-white" bindtap="showModal_word_shiyi" data-target="DrawerModalL">
        字
        <text class="cuIcon-question"></text>
      </button>
    </view>
    <view class="text-center margin-top">
      <button class="cu-btn icon bg-white" bindtap="showModal_dword_shiyi" data-target="DrawerModalL">
        词
        <text class="cuIcon-question"></text>
      </button>
    </view>
  </wux-col>
</wux-row>

<wux-white-space size="large" />

<wux-row>
  <wux-col span="8" offset="2">
    <view class="padding text-center"> 已用时：
      <my-timer id="mytimes"> </my-timer>
    </view>
  </wux-col>
</wux-row>

<wux-row wx:if="{{type==1}}">
  <wux-col span="4">
    <view class="padding text-center" bindtap="tingxie_change_tingxie_loop"> 读{{tingxie_loop}}次
      <text class="cuIcon-notification" style="font-size:30rpx;"></text>
    </view>
  </wux-col>
  <wux-col span="4">
    <view class="padding text-center" bindtap="tingxie_change_tingxie_loop_time"> 间隔{{tingxie_loop_time}}秒</view>
  </wux-col>
  <wux-col span="4">

    <view class="padding text-center" wx:if="{{!tingxie_text_hide}}" bindtap="tingxie_text_show_hide"> 隐藏
      <text class="cuIcon-attentionforbid" style="font-size:30rpx;"></text>
    </view>

    <view class="padding text-center" wx:if="{{tingxie_text_hide}}" bindtap="tingxie_text_show_hide"> 显示
      <text class="cuIcon-attention" style="font-size:30rpx;"></text>
    </view>

  </wux-col>
</wux-row>

<wux-white-space size="default" />

<view class=" flex flex-wrap justify-between align-center " wx:if="{{type==1}}">
  <wux-col span="4">
    <view class="cuIcon-pullleft" style="font-size:80rpx;" bindtap="prev" wx:if="{{!tingxie_auto}}">
    </view>
  </wux-col>
  <wux-col span="4">
    <view class="cuIcon-video" bindtap="tingxie_start" style="font-size:100rpx;" wx:if="{{!tingxie_auto}}">
    </view>

    <view class="cuIcon-stop" bindtap="tingxie_stop" style="font-size:100rpx;" wx:if="{{tingxie_auto}}">
    </view>


  </wux-col>
  <wux-col span="4">
    <view class="cuIcon-pullright" style="font-size:80rpx;" bindtap="next" wx:if="{{!tingxie_auto}}">
    </view>

  </wux-col>
</view>

<wux-row wx:if="{{type==2}}">
  <wux-col span="2">
    <view class="cuIcon-pullleft text-center" style="font-size:80rpx;" bindtap="prev">
    </view>
  </wux-col>
  <wux-col span="8">

    <view class="">

      <!-- <block wx:for="{{ taskdata.word1 }}" wx:key="key" wx:for-index="mindex" wx:if="{{current==mindex}}">
        <wux-segmented-control current="{{konw_current[mindex]}}" controlled values="{{ ['认识', '不认识'] }}" bind:change="onChangesegmented" />
      </block> -->


    </view>
  </wux-col>

  <wux-col span="2">
    <view class="cuIcon-pullright text-center" style="font-size:80rpx;" bindtap="next">
    </view>

  </wux-col>


   <wux-col span="12">

    <block wx:for="{{ taskdata.word1 }}" wx:key="key" wx:for-index="mindex" wx:if="{{current==mindex}}">
       <my-radio current="{{konw_current[mindex]}}" dataArray="{{konw_select_menu}}" bind:myevent="onChangeKnow"> </my-radio>
     </block>

  </wux-col>

</wux-row>



<wux-white-space size="default" />


<view class="padding flex flex-wrap justify-between align-center " wx:if="{{!tingxie_auto}}">
  <button class="cu-btn round bg-gradual-red shadow" bindtap="audioStart">
    首
  </button>
  <button class="cu-btn round bg-gradual-blue shadow" bindtap="audioPlay_word">
    字
    <view class="cuIcon-notification" style="font-size:30rpx;">
    </view>
  </button>
  <button class="cu-btn round bg-gradual-green shadow" bindtap="audioPlay_dword">词
    <view class="cuIcon-notification" style="font-size:30rpx;">
    </view>

  </button>
  <button class="cu-btn round bg-gradual-pink shadow" bindtap="audioPlay_lword">句
    <view class="cuIcon-notification" style="font-size:30rpx;">
    </view>
  </button>
  <button class="cu-btn round bg-gradual-orange shadow" bindtap="audioend">
    尾
  </button>
</view>

<!-- <button class="cu-btn round bg-gradual-orange shadow" bindtap="ceshiyuyin">
    语音测试mp3
  </button> -->


<wux-divider wx:if="{{tingxie_auto}}">
  <view class="loadmore">
    <text class="text">{{tingxie_loading_text}}</text>
  </view>
</wux-divider>



<wux-divider wx:if="{{button_loading_auto}}">
  <view class="loadmore">
    <text class="text">{{button_loading_text}}</text>
  </view>
</wux-divider>



<view class='mecu-load meload-modal' wx:if="{{tingxie_ready}}">
  <view class='text-yellow text-shadow'>{{tingxie_ready_text}}</view>
</view>

<view class='cu-load load-modal' wx:if="{{loadModal}}">
  <image src='/images/logo.png' class='png' mode='aspectFit'></image>
  <view class='gray-text'>加载中...</view>
</view>

<wux-dialog id="wux-dialog" />



<view class="cu-modal drawer-modal justify-start {{modalName=='DrawerModalL_word'?'show':''}}" bindtap="hideModal" wx:if="{{data_item_word.wcell_type!='25'}}">
  <view class="cu-dialog basis-lg" catchtap style="top:{{CustomBar}}px;height:calc(100vh - {{CustomBar}}px)">
    <scroll-view scroll-y style="height:calc(100vh - {{CustomBar}}px)">
      <view class="itemcontent text-left">
        <wux-white-space size="default" />

        <wux-row wx:if="{{data_item_word.word_show_detail.bihua_img!=''}}">
          <wux-col span="8" offset="2">
            <view class="text-center">
              <image src='{{data_item_word.word_show_detail.bihua_img}}' mode="widthFix" style="width:50%;">
              </image>
            </view>
          </wux-col>
        </wux-row>

        <wux-divider show-text="{{ false }}" dashed />
        <wux-row>
          <wux-col span="10" offset="1">
            <text> 笔顺：{{data_item_word.word_show_detail.bishun}}
                   </text>
          </wux-col>
        </wux-row>
        <wux-divider show-text="{{ false }}" dashed />
        <wux-row>
          <wux-col span="5" offset="1">
            <text> 笔画：{{data_item_word.word_show_detail.bihuaw}}
                   </text>
          </wux-col>
          <wux-col span="5" offset="1">
            <text>  部首：{{data_item_word.word_show_detail.bushou}}
                   </text>
          </wux-col>

        </wux-row>
        <wux-divider show-text="{{ false }}" dashed />
        <wux-row>
          <wux-col span="10" offset="1">
            <text> 字形：{{data_item_word.word_show_detail.zixing}}
                   </text>
          </wux-col>
        </wux-row>
        <wux-divider show-text="{{ false }}" dashed />

        <block wx:for="{{data_item_word.word_show_detail.mean_list}}" wx:key>
          <wux-row>
            <wux-col span="3" offset="1">
              <text>拼音：</text>
            </wux-col>
            <wux-col span="8">
              <button class="cu-btn round bg-gradual-purple shadow" bindtap="play_any_src" data-msrc="{{item.mp3}}">
                {{item.pinyin}}
                <view class="cuIcon-notification" style="margin-left:10px;">
                </view>
              </button>
            </wux-col>
          </wux-row>
          <wux-white-space size="default" />
          <wux-row>
            <wux-col span="3" offset="1">
              <text> 释义： </text>
            </wux-col>
            <wux-col span="8">
              <block wx:for="{{item.submean_list}}" wx:key>
                <text> {{item}} </text>
              </block>

            </wux-col>
          </wux-row>
          <wux-divider show-text="{{ false }}" dashed />
        </block>

      </view>
    </scroll-view>
  </view>
</view>


<view class="cu-modal drawer-modal justify-start {{modalName=='DrawerModalL_word'?'show':''}}" bindtap="hideModal" wx:if="{{data_item_word.wcell_type=='25'}}">
  <view class="cu-dialog basis-lg" catchtap style="top:{{CustomBar}}px;height:calc(100vh - {{CustomBar}}px)">
    <scroll-view scroll-y style="height:calc(100vh - {{CustomBar}}px)">
      <view class="itemcontent text-left">
        <wux-white-space size="default" />
        <wux-white-space size="default" />

        <wux-white-space size="default" />
        <wux-row>
          <wux-col span="3" offset="1">
            <text> 注音： </text>
          </wux-col>
          <wux-col span="7">
            <text> {{data_item_word.word_show_detail.zhuyin}} </text>
          </wux-col>
        </wux-row>
        <wux-divider show-text="{{ false }}" dashed />
        <wux-row>
          <wux-col span="3" offset="1">
            <text> 出处： </text>
          </wux-col>
          <wux-col span="7">
            <text> {{data_item_word.word_show_detail.chuchu}} </text>
          </wux-col>
        </wux-row>
        <wux-divider show-text="{{ false }}" dashed />
        <wux-row>
          <wux-col span="3" offset="1">
            <text> 释义： </text>
          </wux-col>
          <wux-col span="7">
            <text> {{data_item_word.word_show_detail.shiyi}} </text>
          </wux-col>
        </wux-row>
        <wux-divider show-text="{{ false }}" dashed />
        <wux-row>
          <wux-col span="3" offset="1">
            <text> 实例： </text>
          </wux-col>
          <wux-col span="7">
            <text> {{data_item_word.word_show_detail.shili}} </text>
          </wux-col>
        </wux-row>
        <wux-divider show-text="{{ false }}" dashed />
      </view>
    </scroll-view>
  </view>
</view>




<view class="cu-modal drawer-modal justify-start {{modalName=='DrawerModalL_dword'?'show':''}}" bindtap="hideModal">
  <view class="cu-dialog basis-lg" catchtap style="top:{{CustomBar}}px;height:calc(100vh - {{CustomBar}}px)">
    <scroll-view scroll-y style="height:calc(100vh - {{CustomBar}}px)">
      <view class="itemcontent text-left">
        <wux-white-space size="default" />
        <wux-white-space size="default" />
        <wux-row>
          <wux-col span="3" offset="1">
            <text>拼音：</text>
          </wux-col>
          <wux-col span="8">
            {{data_item_dword.dword_show_detail.pinyin}}
          </wux-col>
        </wux-row>
        <wux-white-space size="default" />
        <wux-row>
          <wux-col span="3" offset="1">
            <text> 释义： </text>
          </wux-col>
          <wux-col span="8">
            <text> {{data_item_dword.dword_show_detail.shiyi}} </text>
          </wux-col>
        </wux-row>
        <wux-divider show-text="{{ false }}" dashed />
      </view>
    </scroll-view>
  </view>
</view>