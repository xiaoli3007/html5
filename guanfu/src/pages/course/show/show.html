<ion-header>


  <ion-navbar>
    <ion-title>
      {{showinfos.title}}
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="favorite_save()">
        <ion-icon name="ios-star-outline" *ngIf="!is_favorite"></ion-icon>
        <ion-icon name="star"  *ngIf="is_favorite"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
  </ion-header>
<ion-content>


  <ion-row  *ngIf="template=='show_audio'">
    <ion-col>
  <ion-list>
    <audio-track #audio *ngFor="let track of  show_audios ;let i = index;"  [track]="track" (onFinish)="onTrackFinished($event)">

      <ion-item *ngIf="selectedTrack==i">
        <ion-thumbnail item-left>
          <img src="{{audio.art}}">
          <audio-track-play dark [audioTrack]="audio"><ion-spinner></ion-spinner></audio-track-play>
        </ion-thumbnail>
        <div item-content style="width:100%">
          <p style="margin-top:10px;"><strong>{{audio.title}}</strong> </p>
          <audio-track-progress-bar dark duration progress [audioTrack]="audio" [ngStyle]="{visibility: audio.completed > 0 ? 'visible' : 'hidden'}"></audio-track-progress-bar>
        </div>
      </ion-item>
    </audio-track>


  </ion-list>
    </ion-col>
  </ion-row>



  <ion-grid  *ngIf="template=='show'">
  <ion-row *ngFor="let media_video of videolist;let i = index;">
    <ion-col  *ngIf="selectedvideo==i" >
      <video  controls="controls"  autoplay="autoplay" width="100%" height="100%">
        <source  [src]="media_video.url.play | safe" type="video/mp4">
        <!--<source src="http://guanfumaster.com/appapi/blg.mp4" type="video/mp4">-->
      </video>
    </ion-col>
  </ion-row>
</ion-grid>




  <ion-grid *ngIf="  showtemplates.indexOf(template)==-1 ">
    <ion-row>
      <ion-col>
        <ion-item-divider>
          模板加载中或暂不支持的资源格式
        </ion-item-divider>

      </ion-col>
    </ion-row>
  </ion-grid>



  <ion-row >
  <!-- Segment in a header -->
    <ion-segment [(ngModel)]="relationship" color="dark">
      <ion-segment-button value="jianjie">
        简介
      </ion-segment-button>
      <ion-segment-button value="list" >
        节目列表
      </ion-segment-button>
      <ion-segment-button value="commont">
        评论
      </ion-segment-button>
    </ion-segment>

  </ion-row>


    <ion-row >
    <div [ngSwitch]="relationship" style="width: 100%;">

      <ion-list  *ngSwitchCase="'jianjie'" >
          <ion-item>
        分类：  {{showinfos.groups}}
          </ion-item>
        <ion-item>


          <div item-content>
            <ion-label>
              简介：
            </ion-label>
            {{showinfos.description}}
          </div>
        </ion-item>



      </ion-list>


      <ion-grid *ngSwitchDefault>
        <ion-list  >
          <ion-item *ngFor="let v of videolist; let i =index;" >
            <a (click)="openthisvideo(i)" *ngIf="template=='show'">{{v.name}}</a>
            <a (click)="playSelectedTrack(i)" *ngIf=" template=='show_audio' ">{{v.name}}</a>


            <a (click)="playthisimage(i)" *ngIf=" template=='show_image' ">
              <img [src]="v.url.play | safe">
              <br>{{v.name}}
            </a>

            <a   *ngIf="  showtemplates.indexOf(template)==-1 ">{{v.name}}</a>

          </ion-item>
        </ion-list>
      </ion-grid>






      <ion-list *ngSwitchCase="'commont'">

          <ion-item *ngFor="let comment of comment_infos">
            <ion-avatar item-left>
              <img src="{{comment.photo}}">
            </ion-avatar>
            <h2 class="commenttitle">{{comment.name}}</h2>
            <p style="white-space:normal;">{{comment.comment}}</p>
            <div class="note">{{comment.time}}</div>
          </ion-item>


      </ion-list>
    </div>




  </ion-row>



</ion-content>
